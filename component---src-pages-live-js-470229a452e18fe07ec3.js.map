{"version":3,"sources":["webpack:///./src/pages/live.js"],"names":["Live","props","togglePast","currentState","state","showpast","setState","past","upcoming","loadData","fetch","then","response","json","data","subdata","resultsPage","results","event","reverse","componentDidMount","this","render","map","key","id","className","start","date","target","href","uri","venue","displayName","location","city","onClick","React","Component"],"mappings":"uJAIMA,E,oBACJ,WAAYC,GAAO,IAAD,SAChB,cAAMA,IAAN,MA+BFC,WAAa,WACX,IAAMC,EAAe,EAAKC,MAAMC,SAChC,EAAKC,SAAS,CAAED,UAAWF,KAhC3B,EAAKC,MAAQ,CACXG,KAAO,GACPC,SAAU,GACVH,UAAU,GALI,E,kHASlBI,SAAA,WAAY,IAAD,OACTC,MAAM,+FACHC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAG,GACJ,IAAIC,EAAUD,EAAKE,YAAYC,QAAQC,MACvC,EAAKZ,SAAS,CACZE,SAAUO,OAGhBL,MAAM,iGACHC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAG,GACN,IAAIC,EAAUD,EAAKE,YAAYC,QAAQC,MACvC,EAAKZ,SAAS,CACZC,KAAMQ,EAAQI,gB,EAKpBC,kBAAA,WACEC,KAAKZ,Y,EAQPa,OAAA,WACE,IAAMf,EAAOc,KAAKjB,MAAMG,KAAKgB,KAAI,SAACL,GAChC,OACC,yBAAKM,IAAKN,EAAMO,GAAIC,UAAU,SAC5B,4BACE,4BAAKR,EAAMS,MAAMC,MACjB,4BACE,uBAAGC,OAAO,SAASC,KAAMZ,EAAMa,MAC3Bb,EAAMc,MAAQd,EAAMc,MAAMC,YAAc,IAD5C,IACkDf,EAAMgB,SAASC,KADjE,WASF3B,EAAWa,KAAKjB,MAAMI,SAASe,KAAI,SAACL,GACzC,OACC,yBAAKM,IAAKN,EAAMO,GAAIC,UAAU,SAC5B,4BACE,4BAAKR,EAAMS,MAAMC,MACjB,4BACE,uBAAGC,OAAO,SAASC,KAAMZ,EAAMa,MAC3Bb,EAAMc,MAAQd,EAAMc,MAAMC,YAAc,IAD5C,IACkDf,EAAMgB,SAASC,KADjE,WAST,OACE,kBAAC,IAAD,CAAQD,SAAUb,KAAKpB,MAAMiC,UAC3B,6BACE,yBAAKR,UAAU,aACb,oCACA,yBAAKD,GAAG,YACLjB,GAEH,wBAAIiB,GAAG,YAAYW,QAASf,KAAKnB,YAAjC,UACA,yBAAKuB,GAAG,OAAOC,UAAWL,KAAKjB,MAAMC,SAAW,WAAa,IAC5DE,IAGH,yBAAKmB,UAAU,c,GAlFNW,IAAMC,WAyFVtC","file":"component---src-pages-live-js-470229a452e18fe07ec3.js","sourcesContent":["import React from 'react';\nimport Link from 'gatsby-link';\nimport Layout from \"../components/layout\"\n\nclass Live extends React.Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      past : [],\n      upcoming: [],\n      showpast: false\n    }\n  }\n\n  loadData() {\n    fetch(\"https://api.songkick.com/api/3.0/artists/8774179-jptr/calendar.json?apikey=PuBku2LW56sT7SNA\")\n      .then(response => response.json())\n      .then(data => {\n        var subdata = data.resultsPage.results.event;\n        this.setState({\n          upcoming: subdata\n        });\n      });\n    fetch(\"https://api.songkick.com/api/3.0/artists/8774179-jptr/gigography.json?apikey=PuBku2LW56sT7SNA\")\n      .then(response => response.json())\n      .then(data => {\n      var subdata = data.resultsPage.results.event;\n      this.setState({\n        past: subdata.reverse()\n      });\n    });\n  }\n\n  componentDidMount() {\n    this.loadData();\n  }\n\n  togglePast = () => {\n    const currentState = this.state.showpast;\n    this.setState({ showpast: !currentState });\n  }\n\n  render(){\n    const past = this.state.past.map((event)=>{\n      return(\n       <div key={event.id} className='shows'>\n         <ul>\n           <li>{event.start.date}</li>\n           <li>\n             <a target='_blank' href={event.uri}>\n             {`${event.venue ? event.venue.displayName : ''} ${event.location.city} `}\n             </a>\n           </li>\n         </ul>\n       </div>\n      )\n     })\n\n     const upcoming = this.state.upcoming.map((event)=>{\n      return(\n       <div key={event.id} className='shows'>\n         <ul>\n           <li>{event.start.date}</li>\n           <li>\n             <a target='_blank' href={event.uri}>\n             {`${event.venue ? event.venue.displayName : ''} ${event.location.city} `}\n             </a>\n           </li>\n         </ul>\n       </div>\n      )\n     })\n\n    return(\n      <Layout location={this.props.location}>\n        <div>\n          <div className=\"container\">\n            <h2>LIVE</h2>\n            <div id=\"upcoming\">\n              {upcoming}\n            </div>\n            <h2 id=\"pasttitle\" onClick={this.togglePast}>PAST +</h2>\n            <div id=\"past\" className={this.state.showpast ? 'showpast' : ''}>\n            {past}\n            </div>\n          </div>\n          <div className=\"bg-img\"></div>\n        </div>\n      </Layout>\n    )\n  }\n}\n\nexport default Live\n"],"sourceRoot":""}